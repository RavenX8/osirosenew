CMAKE_MINIMUM_REQUIRED(VERSION 2.8 FATAL_ERROR)
PROJECT(3rdparty)

OPTION(BUILD_LUA
  "Build Lua" OFF)

LIST(APPEND CMAKE_MODULE_PATH "${CMAKE_SOURCE_DIR}/cmake")

IF(BUILD_LUA)
  #build lua
  SET(lua_MSVC_STATIC_RUNTIME ON CACHE BOOL "" FORCE)
  ADD_SUBDIRECTORY(${CMAKE_CURRENT_LIST_DIR}/lua)
ENDIF()

# SQLPP11
SET(HinnantDate_ROOT_DIR ${CMAKE_CURRENT_LIST_DIR}/date)
SET(ENABLE_TESTS OFF CACHE BOOL "" FORCE)
ADD_SUBDIRECTORY(${CMAKE_CURRENT_LIST_DIR}/sqlpp11)

IF(ENABLE_MYSQL)
  # SQLPP11 mysql connector
  ADD_SUBDIRECTORY(${CMAKE_CURRENT_LIST_DIR}/sqlpp11-connector-mysql)
ENDIF()
